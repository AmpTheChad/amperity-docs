{% set active_product = active_product|default('Contributing') -%}
{% set active_page_name = active_page_name|default('Contributing') -%}
{% set active_page_icon = active_page_icon|default('<i class="far fa-circle fa-fw icon-left">') -%}
<!--{% set active_search_path = active_search_path|default('/search.html') -%}-->
<!--{% set active_version = active_version|default('Latest') -%}-->
{% set defaultNavItems = [

  {
    "title": "Contributing",
    "iconClass": "fas fa-arrow-alt-circle-right fa-fw",
    "subItems": [
      {
        "title": "Start Here",
        "hasSubItems": false,
        "url": "/contributing/start_here.html"
      },
    ]
  },

  {
    "title": "Formatting",
    "iconClass": "far fa-sparkles fa-fw",
    "subItems": [
      {
        "title": "Admonitions",
        "hasSubItems": true,
        "subItems": [
          {
            "title": "Attention",
            "hasSubItems": false,
            "url": "/contributing/rst.html#attention"
          },
          {
            "title": "Caution",
            "hasSubItems": false,
            "url": "/contributing/rst.html#caution"
          },
          {
            "title": "Custom",
            "hasSubItems": false,
            "url": "/contributing/rst.html#custom"
          },
          {
            "title": "Danger",
            "hasSubItems": false,
            "url": "/contributing/rst.html#danger"
          },
          {
            "title": "Error",
            "hasSubItems": false,
            "url": "/contributing/rst.html#error"
          },
          {
            "title": "Hint",
            "hasSubItems": false,
            "url": "/contributing/rst.html#hint"
          },
          {
            "title": "Important",
            "hasSubItems": false,
            "url": "/contributing/rst.html#important"
          },
          {
            "title": "Note",
            "hasSubItems": false,
            "url": "/contributing/rst.html#note"
          },
          {
            "title": "Tip",
            "hasSubItems": false,
            "url": "/contributing/rst.html#tip"
          },
          {
            "title": "Warning",
            "hasSubItems": false,
            "url": "/contributing/rst.html#warning"
          },
        ],
      },
      {
        "title": "Code blocks",
        "hasSubItems": true,
        "subItems": [
          {
            "title": "Command shell",
            "hasSubItems": false,
            "url": "/contributing/rst.html#command-shell"
          },
          {
            "title": "Data table",
            "hasSubItems": false,
            "url": "/contributing/rst.html#data-table"
          },
          {
            "title": "HTML",
            "hasSubItems": false,
            "url": "/contributing/rst.html#html"
          },
          {
            "title": "JavaScript",
            "hasSubItems": false,
            "url": "/contributing/rst.html#javascript"
          },
          {
            "title": "JSON",
            "hasSubItems": false,
            "url": "/contributing/rst.html#json"
          },
          {
            "title": "JSON w/Jinja",
            "hasSubItems": false,
            "url": "/contributing/rst.html#json-w-jinja"
          },
          {
            "title": "None",
            "hasSubItems": false,
            "url": "/contributing/rst.html#none"
          },
          {
            "title": "Python",
            "hasSubItems": false,
            "url": "/contributing/rst.html#python"
          },
          {
            "title": "REST API",
            "hasSubItems": false,
            "url": "/contributing/rst.html#rest-api"
          },
          {
            "title": "reStructuredText",
            "hasSubItems": false,
            "url": "/contributing/rst.html#restructuredtext"
          },
          {
            "title": "Ruby",
            "hasSubItems": false,
            "url": "/contributing/rst.html#ruby"
          },
          {
            "title": "SQL query",
            "hasSubItems": false,
            "url": "/contributing/rst.html#sql-query"
          },
          {
            "title": "YAML",
            "hasSubItems": false,
            "url": "/contributing/rst.html#yaml"
          },
          {
            "title": "YAML w/Jinja",
            "hasSubItems": false,
            "url": "/contributing/rst.html#yaml-w-jinja"
          },
        ],
      },
      {
        "title": "Headers",
        "hasSubItems": true,
        "subItems": [
          {
            "title": "Header (level 1)",
            "hasSubItems": false,
            "url": "/contributing/rst.html#header-level-1"
          },
          {
            "title": "Header (level 2)",
            "hasSubItems": false,
            "url": "/contributing/rst.html#header-level-2"
          },
          {
            "title": "Header (level 3)",
            "hasSubItems": false,
            "url": "/contributing/rst.html#header-level-3"
          },
          {
            "title": "Header (level 4)",
            "hasSubItems": false,
            "url": "/contributing/rst.html#header-level-4"
          },
          {
            "title": "Header markup length",
            "hasSubItems": false,
            "url": "/contributing/rst.html#header-markup-length"
          },
        ],
      },
      {
        "title": "Images",
        "hasSubItems": false,
        "url": "/contributing/rst.html#images"
      },
      {
        "title": "Includes",
        "hasSubItems": true,
        "subItems": [
          {
            "title": "From file",
            "hasSubItems": false,
            "url": "/contributing/rst.html#from-file"
          },
          {
            "title": "From snippet",
            "hasSubItems": false,
            "url": "/contributing/rst.html#from-snippet"
          },
        ],
      },
      {
        "title": "Inline markup",
        "hasSubItems": true,
        "subItems": [
          {
            "title": "Bold",
            "hasSubItems": false,
            "url": "/contributing/rst.html#bold"
          },
          {
            "title": "Italics",
            "hasSubItems": false,
            "url": "/contributing/rst.html#italics"
          },
          {
            "title": "Code strings",
            "hasSubItems": false,
            "url": "/contributing/rst.html#code-strings"
          },
        ],
      },
      {
        "title": "Links",
        "hasSubItems": true,
        "subItems": [
          {
            "title": "External",
            "hasSubItems": false,
            "url": "/contributing/rst.html#external"
          },
          {
            "title": "External (opens new tab)",
            "hasSubItems": false,
            "url": "/contributing/rst.html#external-opens-new-tab"
          },
          {
            "title": "Reference",
            "hasSubItems": false,
            "url": "/contributing/rst.html#reference"
          },
          {
            "title": "Topic",
            "hasSubItems": false,
            "url": "/contributing/rst.html#topic"
          },
        ],
      },
      {
        "title": "Lists",
        "hasSubItems": true,
        "subItems": [
          {
            "title": "Definition",
            "hasSubItems": false,
            "url": "/contributing/rst.html#definition-list"
          },
          {
            "title": "Ordered list",
            "hasSubItems": false,
            "url": "/contributing/rst.html#ordered-list"
          },
          {
            "title": "Table list",
            "hasSubItems": false,
            "url": "/contributing/rst.html#table-list"
          },
          {
            "title": "Unordered list",
            "hasSubItems": false,
            "url": "/contributing/rst.html#unordered-list"
          },
        ],
      },
      {
        "title": "Meta tags",
        "hasSubItems": false,
        "url": "/contributing/rst.html#meta-tags"
      },
      {
        "title": "Tables",
        "hasSubItems": true,
        "subItems": [
          {
            "title": "CSV table",
            "hasSubItems": false,
            "url": "/contributing/rst.html#csv-table"
          },
          {
            "title": "Grid table",
            "hasSubItems": false,
            "url": "/contributing/rst.html#grid-table"
          },
          {
            "title": "List table",
            "hasSubItems": false,
            "url": "/contributing/rst.html#list-table"
          },
          {
            "title": "Simple table",
            "hasSubItems": false,
            "url": "/contributing/rst.html#simple-table"
          },
        ],
      },
      {
        "title": "Toctree",
        "hasSubItems": false,
        "url": "/contributing/rst.html#toctree"
      },
      {
        "title": "Tokens",
        "hasSubItems": false,
        "url": "/contributing/rst.html#tokens"
      },
      {
        "title": "Topic titles",
        "hasSubItems": false,
        "url": "/contributing/rst.html#topic-titles"
      },
      {
        "title": "Additional resources",
        "hasSubItems": false,
        "url": "/contributing/rst.html#additional-resources"
      },
    ]
  },


] -%}

{% set navItems = navItems|default(defaultNavItems) -%}
<nav class="nav-docs">
  <ul class="nav-docs-items" id="nav-docs-list">

    {% block leftnav %}
    {%- for item in navItems %}
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="{{ item.title }}">

       {%- if item.image %}

        <img class="icon-left" src="./_static/{{ item.image }}"></img> {{ item.title }}

       {%- else %}

        <i class="fa {{ item.iconClass }} icon-left"></i> {{ item.title }}

       {%- endif %}

        <i class="fa fa-chevron-down"></i>
      </div>

      <ul class="sub-items">

        {%- for subItem in item.subItems %}
        {%- if subItem.hasSubItems %}

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="{{ subItem.title }}">
            {{ subItem.title }}
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2">

            {%- for subItem2 in subItem.subItems %}
            {%- if subItem2.hasSubItems %}

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="{{ subItem2.title }}">
                {{ subItem2.title }}
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                {%- for subItem3 in subItem2.subItems %}

                <li>
                  <a class="nav-docs-link" href="{{ subItem3.url }}" title="{{ subItem3.title }}">
                    {{ subItem3.title }}
                  </a>
                </li>

                {%- endfor %}

              </ul>
            </li>

            {%- else %}

            <li>
              <a class="nav-docs-link" href="{{ subItem2.url }}" title="{{ subItem2.title }}">
                {{ subItem2.title }}
              </a>
            </li>

            {%- endif %}
            {%- endfor %}

          </ul>
        
        </li>

        {%- else %}

        <li>
          <a class="nav-docs-link" href="{{ subItem.url }}" title="{{ subItem.title }}">
            {{ subItem.title }}
          </a>
        </li>

        {% endif %}
        {%- endfor %}

      </ul>
    </li>
    {%- endfor %}
    {% endblock %}

    <li class="main-item dark-item">
      <a href="https://learn.amperity.com"><i class="fas fa-graduation-cap fa-fw icon-left"></i>Learning Lab</a>
    </li>

    <li class="main-item dark-item">
      <a href="/support/index.html"><i class="fas fa-life-ring fa-fw icon-left"></i>Get Support</a>
    </li>

    <li class="main-item dark-item">
      <a href="https://docs.amperity.com/contributing/index.html" target="_blank"><i class="fas fa-pen-to-square fa-fw icon-left"></i>Contribute to docs</a>
    </li>

    <li class="main-item dark-item">
      <a href="https://status.amperity.com/" target="_blank"><i class="fas fa-wave-pulse fa-fw icon-left"></i>System Status</a>
    </li>

    <li class="main-item dark-item">
      <a href="https://www.amperity.com" target="_blank"><i class="fa regular fa-house fa-fw icon-left"></i>Amperity.com</a>
    </li>

    </li>
  </ul>
</nav>
